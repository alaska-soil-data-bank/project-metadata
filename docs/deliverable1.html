<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Alaska Soil Data Bank Project Metadata - 2&nbsp; Metadata for Deliverable 1: Building the Alaska Soil Data Bank</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./deliverable2.html" rel="next">
<link href="./datamanagementplan.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./deliverable1.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Metadata for Deliverable 1: Building the Alaska Soil Data Bank</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Alaska Soil Data Bank Project Metadata</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datamanagementplan.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Data Management Plan</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./deliverable1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Metadata for Deliverable 1: Building the Alaska Soil Data Bank</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./deliverable2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Metadata for Deliverable 2: Statewide soil class mapping</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./deliverable3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Metadata for Deliverable 3: Segmentation Analysis - Katmai National Park and Preserve</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Alaska Soil Data Bank (AKSDB) Data Model Documentation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pedon-morphological-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">AKSDB Pedon Morphological Model Documentation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2D-vector-to-json.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Raster to Matrix Profile Representation Framework</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./authorship-guidelines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Authorship Guidelines</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./co-authorship-template.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Co-Authorship Agreement Template - Alaska Soil Data Bank Project</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-use-and-sharing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Data Use and Sharing Agreement Template - Alaska Soil Data Bank Project</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#data-contributors" id="toc-data-contributors" class="nav-link active" data-scroll-target="#data-contributors"><span class="header-section-number">2.1</span> Data Contributors</a></li>
  <li><a href="#data-description" id="toc-data-description" class="nav-link" data-scroll-target="#data-description"><span class="header-section-number">2.2</span> Data Description</a></li>
  <li><a href="#description-of-data-mining-procedures" id="toc-description-of-data-mining-procedures" class="nav-link" data-scroll-target="#description-of-data-mining-procedures"><span class="header-section-number">2.3</span> Description of Data Mining Procedures</a></li>
  <li><a href="#standardized-projection" id="toc-standardized-projection" class="nav-link" data-scroll-target="#standardized-projection"><span class="header-section-number">2.4</span> Standardized Projection</a></li>
  <li><a href="#data-completeness-geospatial-data-quality-and-soil-classification-quality-rankings" id="toc-data-completeness-geospatial-data-quality-and-soil-classification-quality-rankings" class="nav-link" data-scroll-target="#data-completeness-geospatial-data-quality-and-soil-classification-quality-rankings"><span class="header-section-number">2.5</span> Data Completeness, Geospatial Data Quality, and Soil Classification Quality Rankings</a>
  <ul class="collapse">
  <li><a href="#data-completeness-rankings" id="toc-data-completeness-rankings" class="nav-link" data-scroll-target="#data-completeness-rankings"><span class="header-section-number">2.5.1</span> Data Completeness Rankings</a></li>
  </ul></li>
  <li><a href="#geospatial-data-quality-rankings" id="toc-geospatial-data-quality-rankings" class="nav-link" data-scroll-target="#geospatial-data-quality-rankings"><span class="header-section-number">2.6</span> Geospatial Data Quality Rankings</a></li>
  <li><a href="#soil-classification-quality-rankings" id="toc-soil-classification-quality-rankings" class="nav-link" data-scroll-target="#soil-classification-quality-rankings"><span class="header-section-number">2.7</span> Soil Classification Quality Rankings</a></li>
  <li><a href="#description-of-data-wrangling-procedures-gems-import" id="toc-description-of-data-wrangling-procedures-gems-import" class="nav-link" data-scroll-target="#description-of-data-wrangling-procedures-gems-import"><span class="header-section-number">2.8</span> Description of Data Wrangling Procedures-GEMS import</a></li>
  <li><a href="#description-of-controlled-vocabularytaxonomy" id="toc-description-of-controlled-vocabularytaxonomy" class="nav-link" data-scroll-target="#description-of-controlled-vocabularytaxonomy"><span class="header-section-number">2.9</span> Description of Controlled Vocabulary/Taxonomy</a></li>
  <li><a href="#description-of-post-ingestion-scripting-harmonization-procedures" id="toc-description-of-post-ingestion-scripting-harmonization-procedures" class="nav-link" data-scroll-target="#description-of-post-ingestion-scripting-harmonization-procedures"><span class="header-section-number">2.10</span> Description of post-ingestion scripting, harmonization procedures</a></li>
  <li><a href="#description-of-export-procedures" id="toc-description-of-export-procedures" class="nav-link" data-scroll-target="#description-of-export-procedures"><span class="header-section-number">2.11</span> Description of export procedures</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Metadata for Deliverable 1: Building the Alaska Soil Data Bank</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="data-contributors" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="data-contributors"><span class="header-section-number">2.1</span> Data Contributors</h2>
<ul>
<li>University of Alaska Fairbanks</li>
<li>University of Minnesota</li>
<li>National Park Service - Arctic Research Coordination Network (NPS-ACRN)</li>
<li>U.S. Army Corps of Engineers Cold Regions Research and Engineering Laborotory (CRREL)</li>
<li>Alaska Biological Resarch (ABR, Inc., Anchorage AK)</li>
<li>US Department of Energy (DOE)</li>
<li>Bureau of Land Management (BLM)</li>
<li>US Forest Service (USFS)</li>
</ul>
</section>
<section id="data-description" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="data-description"><span class="header-section-number">2.2</span> Data Description</h2>
<p>[output from GEMS]</p>
</section>
<section id="description-of-data-mining-procedures" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="description-of-data-mining-procedures"><span class="header-section-number">2.3</span> Description of Data Mining Procedures</h2>
<ul>
<li>hardcopy data</li>
<li>digital data</li>
</ul>
</section>
<section id="standardized-projection" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="standardized-projection"><span class="header-section-number">2.4</span> Standardized Projection</h2>
<p>Projection: Alaska Albers NAD83, EPSG: 3338 Scope: Topographic Mapping (small scale) Area of Use: United States (USA) - Alaska Coordinate System: Cartesian 2D CS. Axes: easting, northing (X,Y). Orientations: east, north. Unit: meters (m) Geodetic CRS: NAD83 Datum: North American Datum 1983 Ellipsoid: GRS 1980 Prime meridian: Greenwich Data Source: EPSG Information Source: State of Alaska Department of Natural Resources Revision Date: 11-11-2006</p>
</section>
<section id="data-completeness-geospatial-data-quality-and-soil-classification-quality-rankings" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="data-completeness-geospatial-data-quality-and-soil-classification-quality-rankings"><span class="header-section-number">2.5</span> Data Completeness, Geospatial Data Quality, and Soil Classification Quality Rankings</h2>
<p>These rankings will be added to the site (geolocated) metadata for each record. They will be added as field metadata tags in the site id field (data completeness), latitude and longitude fields (geospatial data quality), and classification fields (soil classification quality).</p>
<section id="data-completeness-rankings" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="data-completeness-rankings"><span class="header-section-number">2.5.1</span> Data Completeness Rankings</h3>
<p>[From Nic] These data completeness rankings will be assigned programmatically, but they may still hold value for dataset users who would like a single field to filter all data on:</p>
<ul>
<li>Tier 1 – Soil morphology and physical/chemical data to a depth of at least 1 meter</li>
<li>Tier 2 – Soil morphology and physical/chemical data to a depth of &lt; 1m</li>
<li>Tier 3 – Soil morphology to a depth of at least 1m</li>
<li>Tier 4 – Soil morphology to a depth of &lt; 1m</li>
<li>Tier 5 – Site characteristics only (i.e.&nbsp;thickness of organics, thaw depth, etc)</li>
</ul>
</section>
</section>
<section id="geospatial-data-quality-rankings" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="geospatial-data-quality-rankings"><span class="header-section-number">2.6</span> Geospatial Data Quality Rankings</h2>
<p>[From Colby] We took a ‘tiered’ approach for ranking spatial quality:</p>
<ul>
<li>Tier 1 – spatial coordinates were noted as being collected with GPS anytime after May 1, 2000 (there is seldom enough information to quantify positional accuracy or the type of GPS, but we figured that coordinates from a GPS unit are probably more consistent than from other sources).</li>
<li>Tier 2 – spatial coordinates were collected post 2010 but not explicitly identified as being collected with GPS. We assume that these were collected with a GPS even if there is nothing that indicates it was collected by GPS.</li>
<li>Tier 3 – spatial coordinates collected between 2000 and 2010 but not explicitly identified as being collected with GPS. Coordinates may have come from a GPS, but it is possible that they were estimated by alternative means.</li>
<li>Tier 4 – pre-2000 GPS (US government agency), if a GPS unit was being used by a US government agency prior to selective availability being turned off (May 1, 2000), it is still likely that the government issued GPS unit was not subject to selective availability, however we cannot be certain.</li>
<li>Tier 5 – pre-2000 GPS (non-US government), even if collected with a GPS, selective availability was turned on before this (it specifically ended May 1, 2000) so quality is suspect.</li>
<li>Tier 6 – pre-2000 Aerial Photo/Topo Annotation, georeferencing was accomplished by annotation of approximate site location on an aerial photo or topographic map.</li>
<li>Tier 7 – pre-2000 Location Description, georeferencing was accomplished by a metes and bounds description of the approximate site location (i.e.&nbsp;200m NE from the NW corner of section 36 in township and range X and Y).</li>
</ul>
</section>
<section id="soil-classification-quality-rankings" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="soil-classification-quality-rankings"><span class="header-section-number">2.7</span> Soil Classification Quality Rankings</h2>
<p>[From Nic] We took a ‘tiered’ approach for ranking spatial quality:</p>
<p>Soil classification quality rankings will allow users of the database to discern between soil classes which were assigned with varying degrees of uncertainty. Note that the depths of observation and soil physical and chemical properties required to make unambiguous classifications depend on the taxonomic entity in question. For example, if there is permafrost within 1m of the soil surface, no morphology or laboratory data is necessary to make the unambiguous classification to the Gelisol soil order (Tier 1). However, if no other information is available, then classification to the suborder is not possible (Tier 4). This classification certainty ranking is there applied as a field metadata tag to each level of taxonomic classification, which are held in independent fields:</p>
<ul>
<li>Tier 1 – unambiguous classification; all necessary morphological or soil physical and chemical data are available</li>
<li>Tier 2 – partially ambiguous classification; unambiguous morphological data, but missing some required soil physical or chemical data, few assumptions made regarding soil features and properties</li>
<li>Tier 3 – largely ambiguous classification; morphological data not available to requisite depth or missing key properties, and and/or missing required soil physical or chemical data</li>
<li>Tier 4 – no classification possible; limited morphological data and laboratory data available</li>
</ul>
<p>There may be other tiers that are worth considering.</p>
</section>
<section id="description-of-data-wrangling-procedures-gems-import" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="description-of-data-wrangling-procedures-gems-import"><span class="header-section-number">2.8</span> Description of Data Wrangling Procedures-GEMS import</h2>
</section>
<section id="description-of-controlled-vocabularytaxonomy" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="description-of-controlled-vocabularytaxonomy"><span class="header-section-number">2.9</span> Description of Controlled Vocabulary/Taxonomy</h2>
<p>This project utilizes a project-specific, hierarchical controlled vocabulary or taxonomy (which is crosswalked to NRCS field and laboratory codes where they exist) to tag field metadata. The current version of the controlled vocabulary is in this repository.</p>
</section>
<section id="description-of-post-ingestion-scripting-harmonization-procedures" class="level2" data-number="2.10">
<h2 data-number="2.10" class="anchored" data-anchor-id="description-of-post-ingestion-scripting-harmonization-procedures"><span class="header-section-number">2.10</span> Description of post-ingestion scripting, harmonization procedures</h2>
</section>
<section id="description-of-export-procedures" class="level2" data-number="2.11">
<h2 data-number="2.11" class="anchored" data-anchor-id="description-of-export-procedures"><span class="header-section-number">2.11</span> Description of export procedures</h2>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./datamanagementplan.html" class="pagination-link" aria-label="Data Management Plan">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Data Management Plan</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./deliverable2.html" class="pagination-link" aria-label="Metadata for Deliverable 2: Statewide soil class mapping">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Metadata for Deliverable 2: Statewide soil class mapping</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>